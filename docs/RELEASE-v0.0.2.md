# Moved Yet v0.0.2 发布说明

## 📦 发布信息

- **版本**: v0.0.2
- **发布日期**: 2025-01-30
- **包大小**: 309.49 KB (38 files)
- **Node.js 版本**: v25.5.0
- **VS Code 最低版本**: ^1.100.0

## 🆕 主要新功能

### 🖱️ 智能活动检测系统
- **自动监听用户活动**: 键盘输入、鼠标操作、编辑器切换、命令执行
- **智能重置机制**: 长时间无活动后自动重置所有计时器
- **可配置无活动时间**: 默认5分钟，可设置1-30分钟
- **活动状态监控**: 在状态查看中显示活动检测状态和无活动时长
- **测试命令**: `动了么？: 测试活动检测`

### ⚙️ 新增配置选项
- `movedYet.enableActivityDetection`: 启用/禁用活动检测
- `movedYet.inactivityResetTime`: 无活动重置时间（1-30分钟）

## 🛠️ 技术升级

### 📦 环境升级
- **Node.js**: 升级到 v25.5.0（最新版本）
- **npm**: 升级到 v11.8.0
- **@types/node**: 更新到 25.x
- **添加 .nvmrc**: 确保开发环境一致性

### 🏗️ 架构改进
- **新增 ActivityDetectionService**: 单例模式的活动检测服务
- **无缝集成**: 与现有计时器服务完美集成
- **优化错误处理**: 改进服务初始化和清理逻辑
- **代码质量**: 修复所有 ESLint 警告

## 📚 文档完善

### 📖 更新文档
- **README.md**: 添加活动检测功能说明和新环境要求
- **test-activity-detection.md**: 新增活动检测测试指南
- **开发指南.md**: 更新 Node.js 版本要求
- **完整测试体系**: 包含集成测试和系统测试

### 🔧 项目组织
- **文档规范**: 所有文档统一放在 `docs/` 目录
- **脚本规范**: 所有脚本统一放在 `sh/` 目录
- **结构验证**: 添加项目结构验证工具

## 🧪 测试覆盖

### ✅ 完整测试体系
- **单元测试**: 核心服务功能测试
- **集成测试**: 30项集成测试，100%通过
- **系统测试**: 38项系统测试，100%通过
- **手动测试**: 详细的手动测试清单

### 🔍 质量保证
- **代码检查**: ESLint 零警告
- **类型检查**: TypeScript 严格模式
- **编译验证**: 完整编译流程验证

## � 发布包内容

```
moved-yet-0.0.2.vsix (309.49 KB)
├─ 核心文件
│  ├─ .nvmrc - Node.js 版本锁定
│  ├─ LICENSE - MIT 许可证
│  ├─ README.md - 项目说明
│  ├─ package.json - 项目配置
│  └─ pnpm-lock.yaml - 依赖锁定
├─ 文档 (docs/) - 12个文档文件
│  ├─ CHANGELOG.md - 版本更新日志
│  ├─ 功能指南.md - 功能使用指南
│  ├─ 开发指南.md - 开发环境配置
│  └─ 测试相关文档 - 完整测试体系
├─ 资源 (images/)
│  └─ logo.png - 插件图标
└─ 编译输出 (out/)
   ├─ extension.js - 主入口
   ├─ services/ - 6个服务模块
   ├─ ui/ - 2个UI模块
   ├─ utils/ - 工具模块
   └─ test/ - 测试文件
```

## 🚀 安装和使用

### 本地安装测试
```bash
code --install-extension moved-yet-0.0.2.vsix
```

### 新功能体验
1. **活动检测测试**: 运行命令 `动了么？: 测试活动检测`
2. **配置检查**: 在设置中搜索 `movedYet.enableActivityDetection`
3. **自动重置验证**: 等待无活动后重新编辑文件，观察计时器重置

## 🔄 升级说明

### 从 v0.0.1 升级
- **自动保留**: 所有现有配置和历史记录
- **新增功能**: 活动检测默认启用，可在设置中关闭
- **兼容性**: 完全向后兼容，无需额外配置

### 环境要求变更
- **Node.js**: 要求 v25.x+（之前为 v18.x+）
- **VS Code**: 要求 ^1.100.0（保持不变）

## 📈 性能优化

- **内存使用**: 优化服务初始化，减少内存占用
- **响应速度**: 改进事件监听机制，提升响应速度
- **资源清理**: 完善清理逻辑，避免内存泄漏

## 🐛 问题修复

- ✅ 修复配置服务中的类型错误
- ✅ 优化服务初始化和清理逻辑
- ✅ 改进错误处理和日志输出
- ✅ 修复 ESLint 代码风格警告

## 🎯 下一步计划

- 发布到 VS Code Marketplace
- 发布到 Open VSX Registry
- 收集用户反馈，优化活动检测算法
- 考虑添加更多活动类型检测（文件保存、终端使用等）

---

**感谢使用 Moved Yet！** 🎉

如有问题或建议，请通过 GitHub Issues 反馈。