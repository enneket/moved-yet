# Moved Yet - 动了么？功能指南

## 🎯 核心功能

### 1. 双独立计时器
- **久坐提醒**: 默认 60 分钟，提醒起身活动
- **喝水提醒**: 默认 45 分钟，提醒补充水分
- **自动重置**: 确认提醒后计时器自动重置

### 2. 强制性全屏提醒
- **全屏模态窗口**: 不可关闭的提醒界面
- **UI 锁定**: 必须确认提醒才能继续工作
- **延迟确认**: 3 秒倒计时防止误操作
- **美观界面**: 深色模式适配，自动跟随 VS Code 主题

### 3. 渐进式提醒 ⭐ 新功能
采用三级渐进式提醒机制，避免突然打断工作：

- **第一级：状态栏提示** (持续 5 分钟)
  - 在状态栏显示提醒图标
  - 不打断当前工作
  - 可以继续编码

- **第二级：通知消息** (持续 5 分钟)
  - 弹出通知窗口
  - 提供"确认"和"稍后提醒"选项
  - 稍后提醒会在 5 分钟后重新开始流程

- **第三级：全屏提醒**
  - 显示全屏模态窗口
  - 必须确认才能继续工作

### 4. 提醒历史记录 ⭐ 新功能
- **自动记录**: 每次提醒的完成情况
- **统计数据**: 起身次数、喝水次数、工作时长
- **数据汇总**: 今日统计和本周统计
- **数据持久化**: 重启 VS Code 后数据保留

### 5. 智能活动检测 ⭐ v0.0.2 新功能
- **自动监听**: 检测鼠标和键盘活动
- **智能重置**: 长时间无活动后，下次活动时自动重置计时器
- **活动类型**: 
  - 键盘输入（文本编辑）
  - 鼠标操作（点击、选择）
  - 编辑器切换（切换文件）
  - 命令执行（各种用户操作）
- **可配置阈值**: 默认5分钟无活动后触发重置

### 6. 运动数据可视化
- **美观仪表盘**: 独立的可视化页面
- **统计卡片**: 今日和本周关键指标
- **趋势图表**: 近 7 天起身和喝水趋势
- **工作时长分布**: 每日工作时长柱状图
- **实时刷新**: 支持手动刷新数据
- **深色模式**: 完美适配 VS Code 深色主题

### 7. 每日健康报告 ⭐ 新功能
- **自动显示**: 每天首次启动时自动显示（延迟5秒）
- **健康评分**: 0-100分的综合健康评分系统
- **智能建议**: 根据数据生成个性化健康建议
- **评级系统**: 优秀/良好/一般/需改进四个等级
- **数据总结**: 前一天的完整健康数据汇总
- **深色模式**: 完美支持深色主题

### 8. 深色模式适配 ⭐ 新功能
- **全面支持**: 所有 UI 界面完美适配深色主题
- **自动切换**: 跟随 VS Code 主题自动切换
- **舒适体验**: 优化的颜色对比度和视觉效果
- **统一风格**: 所有界面保持一致的视觉风格

---

## ⚙️ 配置说明

### 基础配置

在 VS Code 设置中搜索"动了么"或直接编辑 `settings.json`：

```json
{
    "movedYet.sitReminderInterval": 60,        // 久坐提醒间隔（分钟）
    "movedYet.drinkReminderInterval": 45,      // 喝水提醒间隔（分钟）
    "movedYet.enableSitReminder": true,        // 启用久坐提醒
    "movedYet.enableDrinkReminder": true,      // 启用喝水提醒
    "movedYet.language": "zh-CN"               // 界面语言: "zh-CN" 或 "en"
}
```

### 新功能配置

```json
{
    "movedYet.enableProgressiveReminder": false,  // 启用渐进式提醒
    "movedYet.enableHistory": true,               // 启用历史记录
    "movedYet.enableActivityDetection": true,     // 启用活动检测 (v0.0.2)
    "movedYet.inactivityResetTime": 5,           // 无活动重置时间（分钟）(v0.0.2)
    "movedYet.enableDailyReport": true           // 启用每日健康报告（新功能）
}
```

### 渐进式提醒高级配置

```json
{
    "movedYet.progressiveReminderLevel1Duration": 5,  // 第一级持续时间（分钟）
    "movedYet.progressiveReminderLevel2Duration": 5   // 第二级持续时间（分钟）
}
```

### 推荐配置

**智能检测模式**（v0.0.2 推荐）：
```json
{
    "movedYet.enableActivityDetection": true,
    "movedYet.inactivityResetTime": 5,
    "movedYet.enableProgressiveReminder": true
}
```

**专注工作模式**：
```json
{
    "movedYet.enableProgressiveReminder": true,
    "movedYet.progressiveReminderLevel1Duration": 10,
    "movedYet.progressiveReminderLevel2Duration": 10,
    "movedYet.inactivityResetTime": 10
}
```

**快速响应模式**：
```json
{
    "movedYet.enableProgressiveReminder": false,
    "movedYet.sitReminderInterval": 45,
    "movedYet.drinkReminderInterval": 30
}
```

---

## 🎮 命令使用

打开命令面板（`Ctrl+Shift+P` / `Cmd+Shift+P`），输入以下命令：

| 命令 | 说明 |
|------|------|
| `动了么？: 重置所有计时器` | 手动重置所有计时器 |
| `动了么？: 显示提醒状态` | 查看当前计时器状态 |
| `动了么？: 查看提醒历史` | 查看历史统计数据 |
| `动了么？: 查看运动仪表盘` | 打开可视化仪表盘 |
| `动了么？: 查看每日健康报告` | 查看每日健康报告（新功能）|
| `动了么？: 测试活动检测` | 查看活动检测状态 (v0.0.2) |

---

## 🚀 快速开始

### 1. 安装插件

**方法一：扩展市场安装（推荐）**
1. 打开扩展市场
2. 搜索：动了么
3. 点击：安装

**方法二：从 .vsix 文件安装**
1. 下载或[编译 .vsix 文件](../README.md#-编译-vsix-包)
2. 在 VS Code 中按 `Ctrl+Shift+P` 打开命令面板
3. 输入 "Extensions: Install from VSIX..."
4. 选择 `moved-yet-0.0.1.vsix` 文件

**方法三：命令行安装**
```bash
code --install-extension moved-yet-0.0.1.vsix
```

### 2. 基础使用
安装后插件会自动激活，使用默认配置即可开始使用。

### 3. 测试功能
```json
{
    "movedYet.sitReminderInterval": 1,  // 设置为 1 分钟便于测试
    "movedYet.drinkReminderInterval": 1
}
```

### 4. 查看状态
使用命令 `动了么？: 显示提醒状态` 查看当前计时器状态。

### 5. 体验新功能
- 启用渐进式提醒体验温和的提醒方式
- 查看提醒历史了解自己的运动习惯
- 打开运动仪表盘查看可视化数据

---

## 🌐 多语言支持

插件支持中文简体和英文：

```json
{
    "movedYet.language": "zh-CN"  // 中文简体
    // 或
    "movedYet.language": "en"     // English
}
```

所有界面文本（提醒弹窗、按钮、状态消息等）都会相应切换。

---

## 💡 使用技巧

### 1. 每日健康报告使用指南（新功能）

**工作原理**：
- 每天首次启动 VS Code 时自动显示（延迟5秒）
- 只有当天有健康数据时才会显示
- 每天只显示一次，避免重复打扰

**健康评分系统**：
- 起身次数（40分）：理想为每小时起身1次
- 喝水次数（40分）：理想为每小时喝水1-2次
- 工作时长（20分）：理想为4-8小时

**评级标准**：
- 🌟 优秀（90-100分）
- 😊 良好（75-89分）
- 😐 一般（60-74分）
- 😟 需改进（0-59分）

**最佳配置**：
```json
{
    "movedYet.enableDailyReport": true,
    "movedYet.enableHistory": true
}
```

**使用场景**：
- ✅ 每天开始工作时查看前一天的报告
- ✅ 根据建议调整今天的工作习惯
- ✅ 对比趋势，持续改进健康习惯
- ✅ 设定健康目标，追踪完成情况

**手动查看**：
运行命令：`动了么？: 查看每日健康报告`

### 2. 深色模式使用指南（新功能）

**自动适配**：
- 所有 UI 界面自动跟随 VS Code 主题
- 无需任何配置
- 实时响应主题变化

**适配范围**：
- ✅ 健康仪表盘
- ✅ 提醒窗口
- ✅ 每日健康报告
- ✅ 所有统计界面

**使用建议**：
- 夜间工作时使用深色主题保护眼睛
- OLED 屏幕使用深色主题更省电
- 根据环境光线选择合适的主题

### 3. 智能活动检测使用指南 (v0.0.2)

**工作原理**：
- 系统自动监听你的鼠标和键盘活动
- 当检测到长时间无活动时，下次活动会自动重置计时器
- 避免了离开电脑后回来仍然收到过期提醒的问题

**最佳配置**：
```json
{
    "movedYet.enableActivityDetection": true,
    "movedYet.inactivityResetTime": 5  // 5分钟无活动后重置
}
```

**使用场景**：
- ✅ 开会时离开电脑
- ✅ 午休时间
- ✅ 临时处理其他事务
- ✅ 思考问题时暂停编码

**测试方法**：
1. 运行命令：`动了么？: 测试活动检测`
2. 查看当前无活动时长
3. 停止操作超过设定时间
4. 重新开始编辑，观察是否自动重置

### 4. 渐进式提醒最佳实践
- 专注工作时启用渐进式提醒
- 第一级提醒时可以继续当前任务
- 第二级提醒时准备结束当前工作
- 善用"稍后提醒"功能

### 5. 历史数据分析
- 定期查看本周统计
- 通过趋势图发现规律
- 找出容易忽略运动的时段
- 根据数据调整提醒间隔

### 6. 工作习惯优化
- 建议久坐提醒间隔：45-60 分钟
- 建议喝水提醒间隔：30-45 分钟
- 会议前临时禁用提醒
- 根据工作强度调整配置

---

## 🐛 常见问题

### Q1: 提醒窗口无法关闭怎么办？
**A**: 这是设计行为。必须等待 3 秒倒计时结束后点击确认按钮。

### Q2: 如何临时禁用提醒？
**A**: 在设置中将对应的 `enable` 选项设为 `false`，或禁用整个插件。

### Q3: 渐进式提醒不工作？
**A**: 确保 `enableProgressiveReminder` 为 `true`，检查状态栏是否显示提醒图标。

### Q4: 历史数据不显示？
**A**: 确保 `enableHistory` 为 `true`，至少完成一次提醒确认。

### Q5: 配置修改后需要重启吗？
**A**: 不需要。配置修改后会自动重置计时器，立即生效。

### Q6: 每日健康报告什么时候显示？
**A**: 每天首次启动 VS Code 时自动显示（延迟5秒），只有当天有数据时才会显示。可以通过命令手动查看。

### Q7: 如何禁用每日健康报告？
**A**: 在设置中将 `movedYet.enableDailyReport` 设为 `false`。

### Q8: 深色模式如何切换？
**A**: 无需配置，所有界面自动跟随 VS Code 主题。切换 VS Code 主题即可。

---

## 🎯 特色亮点

- **极简设计**: 只关注核心功能，不添加复杂特性
- **强制性提醒**: 确保用户真正注意到健康提醒
- **美观界面**: 现代化的 UI 设计，完美支持深色模式
- **独立计时**: 久坐和喝水提醒互不干扰
- **高度可配置**: 支持自定义间隔时间和开关控制
- **数据驱动**: 通过历史数据了解和改进运动习惯
- **智能评分**: 每日健康报告提供科学的健康评分
- **深色模式**: 所有界面完美适配深色主题，保护眼睛

---

**先保持健康，再高效工作！** 💪